using System;
using UnityEngine;
using VRC.Udon;
namespace emmVRC.Components
{
    public class VRC_UdonPickupTrigger : MonoBehaviour
    {
        public static bool classInjected = false;
        private static VRC.Udon.ProgramSources.SerializedUdonProgramAsset programAsset;
        private const string UdonSerializedProgramString = "Ai8AAAAAASwAAABWAFIAQwAuAFUAZABvAG4ALgBDAG8AbQBtAG8AbgAuAFUAZABvAG4AUAByAG8AZwByAGEAbQAsACAAVgBSAEMALgBVAGQAbwBuAC4AQwBvAG0AbQBvAG4AAAAAACcBGAAAAEkAbgBzAHQAcgB1AGMAdABpAG8AbgBTAGUAdABJAGQAZQBuAHQAaQBmAGkAZQByAAEEAAAAVQBEAE8ATgAXARUAAABJAG4AcwB0AHIAdQBjAHQAaQBvAG4AUwBlAHQAVgBlAHIAcwBpAG8AbgABAAAAAQEIAAAAQgB5AHQAZQBDAG8AZABlAC8BAAAAARcAAABTAHkAcwB0AGUAbQAuAEIAeQB0AGUAWwBdACwAIABtAHMAYwBvAHIAbABpAGIAAQAAAAhgAAAAAQAAAAAAAAEAAAAFAAAAAQAAAAQAAAABAAAAAgAAAAkAAAABAAAABgAAAAkAAAAIAAAABgAAAAEAAAAFAAAAAQAAAAMAAAABAAAAAgAAAAkAAAABAAAABgAAAAkAAAAIAAAABgUBAQQAAABIAGUAYQBwAC8CAAAAASkAAABWAFIAQwAuAFUAZABvAG4ALgBDAG8AbQBtAG8AbgAuAFUAZABvAG4ASABlAGEAcAAsACAAVgBSAEMALgBVAGQAbwBuAC4AQwBvAG0AbQBvAG4AAgAAAAYCAAAAAAAAACcBBAAAAHQAeQBwAGUAARcAAABTAHkAcwB0AGUAbQAuAFUASQBuAHQAMwAyACwAIABtAHMAYwBvAHIAbABpAGIAGQEMAAAASABlAGEAcABDAGEAcABhAGMAaQB0AHkABwAAACcBBAAAAHQAeQBwAGUAAbkAAABTAHkAcwB0AGUAbQAuAEMAbwBsAGwAZQBjAHQAaQBvAG4AcwAuAEcAZQBuAGUAcgBpAGMALgBMAGkAcwB0AGAAMQBbAFsAUwB5AHMAdABlAG0ALgBWAGEAbAB1AGUAVAB1AHAAbABlAGAAMwBbAFsAUwB5AHMAdABlAG0ALgBVAEkAbgB0ADMAMgAsACAAbQBzAGMAbwByAGwAaQBiAF0ALABbAFMAeQBzAHQAZQBtAC4AUgB1AG4AdABpAG0AZQAuAEMAbwBtAHAAaQBsAGUAcgBTAGUAcgB2AGkAYwBlAHMALgBJAFMAdAByAG8AbgBnAEIAbwB4ACwAIABTAHkAcwB0AGUAbQAuAEMAbwByAGUAXQAsAFsAUwB5AHMAdABlAG0ALgBUAHkAcABlACwAIABtAHMAYwBvAHIAbABpAGIAXQBdACwAIABtAHMAYwBvAHIAbABpAGIAXQBdACwAIABtAHMAYwBvAHIAbABpAGIAAQEIAAAASABlAGEAcABEAHUAbQBwAC8DAAAAAbkAAABTAHkAcwB0AGUAbQAuAEMAbwBsAGwAZQBjAHQAaQBvAG4AcwAuAEcAZQBuAGUAcgBpAGMALgBMAGkAcwB0AGAAMQBbAFsAUwB5AHMAdABlAG0ALgBWAGEAbAB1AGUAVAB1AHAAbABlAGAAMwBbAFsAUwB5AHMAdABlAG0ALgBVAEkAbgB0ADMAMgAsACAAbQBzAGMAbwByAGwAaQBiAF0ALABbAFMAeQBzAHQAZQBtAC4AUgB1AG4AdABpAG0AZQAuAEMAbwBtAHAAaQBsAGUAcgBTAGUAcgB2AGkAYwBlAHMALgBJAFMAdAByAG8AbgBnAEIAbwB4ACwAIABTAHkAcwB0AGUAbQAuAEMAbwByAGUAXQAsAFsAUwB5AHMAdABlAG0ALgBUAHkAcABlACwAIABtAHMAYwBvAHIAbABpAGIAXQBdACwAIABtAHMAYwBvAHIAbABpAGIAXQBdACwAIABtAHMAYwBvAHIAbABpAGIAAwAAAAYHAAAAAAAAAAQvBAAAAAGKAAAAUwB5AHMAdABlAG0ALgBWAGEAbAB1AGUAVAB1AHAAbABlAGAAMwBbAFsAUwB5AHMAdABlAG0ALgBVAEkAbgB0ADMAMgAsACAAbQBzAGMAbwByAGwAaQBiAF0ALABbAFMAeQBzAHQAZQBtAC4AUgB1AG4AdABpAG0AZQAuAEMAbwBtAHAAaQBsAGUAcgBTAGUAcgB2AGkAYwBlAHMALgBJAFMAdAByAG8AbgBnAEIAbwB4ACwAIABTAHkAcwB0AGUAbQAuAEMAbwByAGUAXQAsAFsAUwB5AHMAdABlAG0ALgBUAHkAcABlACwAIABtAHMAYwBvAHIAbABpAGIAXQBdACwAIABtAHMAYwBvAHIAbABpAGIAGQEFAAAASQB0AGUAbQAxAAAAAAABAQUAAABJAHQAZQBtADIALwUAAAABUgAAAFMAeQBzAHQAZQBtAC4AUgB1AG4AdABpAG0AZQAuAEMAbwBt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Lw4AAAABNgAAAFYAUgBDAC4AVQBkAG8AbgAuAEMAbwBtAG0AbwBuAC4AVQBkAG8AbgBTAHkAbgBjAE0AZQB0AGEAZABhAHQAYQBUAGEAYgBsAGUALAAgAFYAUgBDAC4AVQBkAG8AbgAuAEMAbwBtAG0AbwBuAB4AAAAGAQAAAAAAAAAnAQQAAAB0AHkAcABlAAFsAAAAUwB5AHMAdABlAG0ALgBDAG8AbABsAGUAYwB0AGkAbwBuAHMALgBHAGUAbgBlAHIAaQBjAC4ATABpAHMAdABgADEAWwBbAFYAUgBDAC4AVQBkAG8AbgAuAEMAbwBtAG0AbwBuAC4ASQBuAHQAZQByAGYAYQBjAGUAcwAuAEkAVQBkAG8AbgBTAHkAbgBjAE0AZQB0AGEAZABhAHQAYQAsACAAVgBSAEMALgBVAGQAbwBuAC4AQwBvAG0AbQBvAG4AXQBdACwAIABtAHMAYwBvAHIAbABpAGIAAQEMAAAAUwB5AG4AYwBNAGUAdABhAGQAYQB0AGEALw8AAAABbAAAAFMAeQBzAHQAZQBtAC4AQwBvAGwAbABlAGMAdABpAG8AbgBzAC4ARwBlAG4AZQByAGkAYwAuAEwAaQBzAHQAYAAxAFsAWwBWAFIAQwAuAFUAZABvAG4ALgBDAG8AbQBtAG8AbgAuAEkAbgB0AGUAcgBmAGEAYwBlAHMALgBJAFUAZABvAG4AUwB5AG4AYwBNAGUAdABhAGQAYQB0AGEALAAgAFYAUgBDAC4AVQBkAG8AbgAuAEMAbwBtAG0AbwBuAF0AXQAsACAAbQBzAGMAbwByAGwAaQBiAB8AAAAGAAAAAAAAAAAHBQcFFwELAAAAVQBwAGQAYQB0AGUATwByAGQAZQByAAAAAAAF";
        private UdonBehaviour beh;
        private VRC.Udon.Common.Interfaces.IUdonHeap heap;
        public Action OnPickupUseDown;
        public Action OnPickupUseUp;

        public bool lastStatus = false;
        public VRC_UdonPickupTrigger(IntPtr ptr) : base(ptr) { }

        static VRC_UdonPickupTrigger()
        {
            if (programAsset == null)
            {
                programAsset = new VRC.Udon.ProgramSources.SerializedUdonProgramAsset();
                programAsset.serializedProgramBytesString = UdonSerializedProgramString;
                programAsset.serializationDataFormat = VRC.Udon.Serialization.OdinSerializer.DataFormat.Binary;
                programAsset.programUnityEngineObjects = new Il2CppSystem.Collections.Generic.List<UnityEngine.Object>();
                programAsset.name = "VRC_UdonPickupTrigger";
                programAsset.hideFlags |= HideFlags.DontUnloadUnusedAsset;
            }
        }
        private void Awake()
        {
            if (gameObject.GetComponent<VRC.SDK3.Components.VRCInteractable>() != null)
                GameObject.DestroyImmediate(gameObject.GetComponent<VRC.SDK3.Components.VRCInteractable>());
            beh = gameObject.AddComponent<UdonBehaviour>();
            beh.serializedProgramAsset = programAsset;
            beh.InitializeUdonContent();
        }
        
        public void FixedUpdate()
        {
            if (beh == null || beh._udonVM == null || beh._udonManager == null) return;
            if (heap == null)
                heap = beh._udonVM.InspectHeap();
            if (heap == null) return;
            if (heap.GetHeapVariable(2).Unbox<Boolean>() != lastStatus)
            {
                lastStatus = heap.GetHeapVariable(2).Unbox<Boolean>();
                if (lastStatus)
                    OnPickupUseDown?.Invoke();
                if (!lastStatus)
                    OnPickupUseUp?.Invoke();
            }
        }

    }
}
